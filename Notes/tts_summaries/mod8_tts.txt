Module 8 â€“ XML Basics, DOM, Readers, and Writers
1. XML is just plain text with rules. Always start with a prolog like `<?xml version="1.0" encoding="UTF-8"?>`, then wrap all data in a single root element. Every element needs matching start and end tags such as `<course>Service-Oriented Computing</course>`. Tag names must start with a letter or underscore and cannot start with the word xml.
2. Elements hold the main data and form a tree, while attributes add extra facts inside the opening tag using `name="value"`. Pick whichever makes the structure easiest to read, but remember that attribute names inside the same element must be unique. Empty elements can be shortened to `<photo image="pic.jpeg" />`. Use entity references when text needs reserved characters: write `<` as `&lt;`, `>` as `&gt;`, and `&` as `&amp;`. For code-heavy text, wrap it in `<![CDATA[ ... ]]>` to avoid escaping every symbol.
3. Whitespace can be normalized or preserved. Set `xml:space="preserve"` on the element if spaces matter, otherwise the parser may collapse them. Add comments with `<!-- comment text -->`. Namespaces stop collisions by prefixing tags, for example `<cse:Course xmlns:cse="http://example.com/courses">`. Prefixes apply to elements unless you explicitly prefix attributes.
4. DOM processing loads the entire XML into memory as nodes. In .NET you use `XmlDocument doc = new XmlDocument(); doc.Load("Courses.xml");` then navigate through `doc.DocumentElement`, `node.ChildNodes`, or `node.Attributes`. Traversal is typically pre-order: handle the parent, then recursively visit children.
5. `XmlTextReader` gives a forward-only, streaming approach. Create one with `var reader = new XmlTextReader("Courses.xml");`, call `reader.Read()` in a loop, and inspect `reader.NodeType`, `reader.Name`, and `reader.Value`. Move through attributes with `MoveToNextAttribute()` when `reader.AttributeCount > 0`. This is efficient when you just need specific values such as an `Image` attribute.
6. `XmlTextWriter` builds XML from scratch. Typical pattern: `writer = new XmlTextWriter("Courses.xml", Encoding.Unicode); writer.WriteStartDocument(); writer.WriteStartElement("Courses"); writer.WriteStartElement("Course"); writer.WriteElementString("Name", "SOC"); writer.WriteStartElement("Room"); writer.WriteAttributeString("Image", "layout150.jpeg"); writer.WriteString("BYAC150"); writer.WriteEndElement(); ... writer.WriteEndDocument(); writer.Close();`. Always close every element you open to keep the document well formed.
